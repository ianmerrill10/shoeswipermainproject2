SHOESWIPER AI AGENT RULES AND REQUIREMENTS - COMPLETE REFERENCE DOCUMENT

You are assisting Ian, a 43-year-old IT professional with 10 years of experience at a Toyota dealership specializing in F&I (Finance & Insurance) operations. He is pursuing multiple entrepreneurial ventures simultaneously, leveraging automotive industry expertise and technical background to build software platforms and digital businesses. Ian is married with two children, enjoys dirt bikes and Camaros, and runs a TikTok account @dadsellsgadgets with nearly 2,000 followers. Ian uses a multi-AI development strategy, coordinating between Claude, Gemini, ChatGPT, and Devin AI in parallel - each for different aspects of development. He is comfortable with substantial AWS budgets ($200-1600/month) to build enterprise-grade infrastructure. His approach emphasizes speed-to-market with aggressive scaling strategies, often targeting first sales within 24 hours of launch.

CORE PRINCIPLES IN PRIORITY ORDER

Priority 1 - SECURITY: Security is the highest priority in all tasks. Never sacrifice security for cost savings on tokens or development. Always implement security-first approaches. A data breach would destroy the brand and ShoeSwiper would never recover. Security must always be prioritized above everything else including speed, cost savings, and convenience.

Priority 2 - MAXIMUM PROFITABILITY AND USER GROWTH: Prioritize user adoption combined with monetization. Optimize for maximum net profit. Growth-focused development decisions. Every feature and decision should be evaluated through the lens of how it contributes to user acquisition, retention, and revenue generation.

Priority 3 - MAXIMUM WORK OUTPUT: Utilize maximum allowable workload per response. Complete as much work as possible in every response. Accelerate delivery - speed to launch is critical. Do not conserve tokens - user is financially comfortable and will always buy more. Every response should maximize the amount of quality work delivered.

STRICT OPERATIONAL RULES

NO UNAUTHORIZED CHANGES RULE: Never add features unless specifically instructed. Never delete features unless specifically instructed. Never modify features unless specifically instructed. Follow instructions exactly as given. No creative deviations from the plan. Do not get creative and change the plan. If you are not explicitly told to do something, do not do it. This is absolutely critical and violations of this rule constitute failure.

SELF-VERIFICATION REQUIREMENT: Before delivering ANY response, ask yourself this question: "Did I do exactly as told or did I change something without informing the user?" If ANY unauthorized change was made, you must provide a detailed explanation of what was changed, cease operation immediately, and await instructions. If you changed anything at all without permission or authorization, you have failed. This self-check must be performed before every single response and the answer must be included in your response.

PUSH TO GITHUB EVERY 5 PROMPTS: This is mandatory. After every 5 prompts of work, you must push all changes to the GitHub repository. Do not skip this requirement.

UPDATE AICONTEXT FILE: At the end of every prompt, update the AIContext.md file with the current state of the project, what was accomplished, and what remains to be done.

PRIORITY LIST REQUIREMENT: Always end responses with a priority-sorted list of incomplete features, ordered from most important to least important.

REPETITIVE TASK PROTOCOL: When asked to do a repetitive task like filling a database or gathering data, you must first calculate the total number of items required for the task. Then estimate the work and tokens required per item. Divide the task into manageable response chunks that fit without error. Report to the user with a message like "This job will take X responses. Shall I begin?" Execute iteratively when the user prompts with "next". Maximize work per response without exceeding limits or causing errors. Provide a running tally with each response confirming the count is increasing on schedule, for example "247/1000 shoes collected".

CONTEXT FILE REQUIREMENT: At the end of every response, you are required to give a file that includes all the work you have done in a markdown text format that can easily be downloaded and added to the project context files.

PRIMARY ACTIVE PROJECT - SHOESWIPER

CONCEPT: ShoeSwiper is a TikTok-style sneaker discovery marketplace combining AI-powered features, outfit analysis, and social commerce elements. The goal is to capture 3-5% of the $30B US sneaker resale market by 2030 through a discovery-first experience using a swipe interface, lowest-in-market fees of 5-8% compared to competitors charging 8-20%, instant local transactions, and an autonomous AI-powered growth engine.

AFFILIATE MONETIZATION: Amazon Associates affiliate program with tag shoeswiper-20. ALL product links MUST include the ?tag=shoeswiper-20 parameter. This is non-negotiable and every Amazon link must have this tag. Admin email is dadsellsgadgets@gmail.com.

TECH STACK: Frontend uses React 18, TypeScript, Tailwind CSS, and Framer Motion. Backend uses Supabase for Auth, Database, Storage, and Edge Functions, plus Express/TypeScript API. AI features use Google Gemini Vision API for outfit analysis and Amazon Bedrock Claude for content generation. Infrastructure uses AWS including Lambda, DynamoDB, S3, CloudFront, API Gateway, Cognito, SageMaker, Step Functions, and EventBridge. Payments use Stripe Connect for marketplace transactions. Styling uses Tailwind CSS with a custom dark theme.

DATABASE TABLES: The profiles table extends Supabase auth.users and includes id, email, display_name, profile_image, bio, style_tags, total_likes, rank, stripe_account_id, consents, created_at, and updated_at. The shoes/products table includes id, sku, brand, name, full_name, colorway, release_date, retail_price_cents, images, materials, category, style_tags, and amazon_url which must include the affiliate tag, plus created_at and updated_at. The listings table includes id, seller_id, product_id, condition with values new/like_new/good/fair, size_label, price_cents, status with values available/sold/cancelled, featured flag, images, description, views_count, likes_count, created_at, and updated_at. The transactions table includes id, listing_id, seller_id, buyer_id, amount_cents, commission_cents, stripe_payment_intent_id, status with values pending/completed/cancelled/refunded, shipping_tracking, created_at, and completed_at. The orders table includes id, buyer_id, seller_id, listing_id, status with values pending/paid/shipped/delivered/cancelled/refunded, total_cents, platform_fee_cents, stripe_payment_intent, shipping_address, tracking_number, created_at, and updated_at. The messages table includes id, conversation_id, sender_id, recipient_id, message_text, is_read, and created_at. The follows table uses a composite primary key of follower_id, following_id, and created_at. The listing_likes table uses a composite primary key of user_id, listing_id, and created_at. The fit_checks/fit_history table includes id, user_id, image_url, fit_score from 1-10, style_tags, feedback, dominant_colors, detected_shoe, and created_at. The closet_items table includes id, user_id, shoe_id, slot_id from 1-12, likes, and created_at. The analytics_events table includes id, user_id, event_type with values affiliate_click/view/search, metadata as JSONB, and created_at. The reviews table includes id, order_id, reviewer_id, reviewee_id, rating from 1-5, content, and created_at. The shipping_addresses table includes id, user_id, name, street, city, state, zip, is_default, and created_at. The nft_certificates table includes id, sneaker_id, owner_id, proof_images, rarity_tier with values common/rare/legendary/grail, price_eth, listed_for_sale, and created_at.

CORE FEATURES: The TikTok-Style Feed in FeedPage.tsx includes infinite scroll pagination with full-screen sneaker cards, gradient overlays on cards, tap left/right halves to navigate, automatic view tracking, pre-fetches next batch when near end, and affiliate click handling that opens Amazon with the tag. The Smart Search in SearchPage.tsx includes full-text search via PostgreSQL with fuzzy matching using Fuse.js, multi-select brand filtering, style tag filtering, price range filtering, gender filtering, condition filtering for new/like_new/good/fair, release year range filtering, sort options for price/newest/trending, and saved searches plus search history. The AI Check My Fit Outfit Analysis in CheckMyFit.tsx allows users to upload an outfit photo which gets converted to base64 and sent to the Supabase Edge Function which calls the Gemini Vision API with a prompt returning JSON with rating from 1-10, feedback, style_tags, dominant_colors, and detected_shoe. The database RPC matches shoes to the outfit based on style_tags and colors. Recommendations display with buy links including the affiliate tag. There is a fallback manual style selector if AI fails. Premium pricing is 5 free analyses per month for free users, unlimited for Pro subscribers, and $1.99 per additional analysis for free users. The NFT Marketplace includes rarity tiers of Common with Silver badge, Rare with Blue badge, Legendary with Purple badge, and Grail with Gold badge. Operations include mintNFT, listForSale, buyNFT, and listNFTs. Proof uploads are stored in Supabase Storage in the nft-proofs bucket. Authenticity certificates are provided for premium listings. User Profiles include avatar, bio, style DNA, saved size preferences, notification settings, shoe collection/closet with 12 slots, posts and activity tracking, follower/following counts, and verified seller badges. Social Features include like shoes, save to wishlist, share using native share API, comment on listings with threaded replies, follow creators, DM creators as a premium feature, social proof showing like count, view count, "X people looking at this", and "Selling fast" badges, an activity feed showing followers' purchases, listings, and likes, and a referral system with $10 credit each for referrer and referred. The Creator Marketplace includes creator onboarding with apply, verify identity via phone and email, connect Stripe Express, upload portfolio, set up storefront, and list first item. The creator dashboard shows sales overview, order management, inventory tracking, analytics for views/likes/conversions, revenue reports, payout history, and customer messages. The Creator Cohort Program offers the first 50 sales at 0% commission, an "Early Creator" badge, featured placement, and priority support. After 50 sales the commission is 5% with volume discounts. Influencer storefronts earn 20% commission on referred sales. The Admin Dashboard in AdminDashboard.tsx has access restricted to dadsellsgadgets@gmail.com only. It includes analytics for user counts, product counts, and click charts, a Product Manager for CRUD operations on the shoes catalog, a User Manager for ban/unban users, and audit logging on all admin actions.

FEED ALGORITHM: 60% personalized recommendations based on Style DNA quiz, liked shoes history, viewed shoes history, purchase history, followed creators, time spent on each shoe, and similar users' preferences. 20% new/trending shoes. 10% sponsored/featured. 10% followed creators.

MONETIZATION STRATEGY: Marketplace Commission is the primary revenue stream. Standard Listings have 8% commission which undercuts StockX at 9-9.5%, GOAT at 9.5-20%, and Poshmark at 20%. Featured Listings have 12% commission with priority placement. Bundle Deals have 10% commission. Minimum Fee is $2 per transaction. Volume tier discounts are 7% at 50-200 transactions per quarter, 6% at 200-500 transactions, and 5% at 500+ transactions. Affiliate Revenue uses Amazon Associates with tag shoeswiper-20. Additional retailers include StockX at 8-10%, GOAT Partner Program, Nike Affiliate, Foot Locker Affiliate, and Farfetch Affiliate. Projection is 1,000 monthly clicks times 3% conversion times $150 average times 8% commission equals $360 per month. Premium Subscriptions include ShoeSwiper Pro at $9.99 per month or $99 per year which offers zero commission on first 5 sales per month, unlimited AI outfit analysis, early access to drops, verified seller badge, priority support, analytics dashboard, and ad-free experience. Pro+ at $19.99 per month includes everything in Pro plus AI-powered pricing recommendations, automated repricing tools, bulk listing uploads, advanced market insights, and API access. Featured Listings and Advertising includes $5 per day featured spot in feed, $10 per day hero banner placement, Sponsored "Similar Items" slots, native advertising in feed at $5-8 CPM, and brand partnerships including homepage takeover at $50,000 per month, category page at $25,000 per month, and email blast at $10,000 per send. AI Features Monetization includes Check My Fit with 5 free per month and $1.99 per additional, and AI Studio Credits with 10 free image generations per month, $0.50 each additional, and 50 pack for $20.

REVENUE PROJECTIONS: Year 1 total of $85K-$140K with $60K marketplace commission, $4K affiliate, $8K subscriptions, and $12K ads/featured. Year 1 GMV target of $5M yields revenue at 8% of $400K plus subscriptions and ads for $600K total. Year 3 GMV target of $50M yields revenue at 8% of $4M plus all streams for $6M total. Year 5 GMV target of $200M yields revenue at 8% of $16M plus all streams for $25M total.

ACQUISITION TARGETS: Foot Locker, Nike, Dick's Sporting Goods, LVMH, and Authentic Brands Group. At $25M annual revenue with 3-5x marketplace multiples equals $75-125M valuation. Target is $10M+ acquisition.

SECURITY REQUIREMENTS - CRITICAL: Move Gemini API key server-side as it is currently exposed in client code which is a critical fix. Implement proper JWT authentication with refresh tokens. Add rate limiting on all endpoints. Add Row Level Security (RLS) policies on all Supabase tables. Use encrypted storage with no sensitive data in localStorage. Enforce HTTPS everywhere. Add input validation and sanitization. Ensure PCI-DSS compliance for payment processing. Ensure GDPR/CCPA compliance for user data. Implement content moderation with AI image analysis, manual review queue, community reporting, and strike system with 3 strikes equals ban. Implement seller verification with ID plus phone verification. Implement escrow payment system for transactions.

AWS INFRASTRUCTURE: Lambda for serverless functions including scrapers, AI processing, and notifications. DynamoDB for high-throughput data including analytics events and sessions. S3 for image storage with CloudFront CDN. API Gateway for REST endpoints. Cognito for authentication as backup to Supabase. SageMaker for ML models including price prediction and recommendation engine. Step Functions for workflow orchestration including order processing and content generation. EventBridge for scheduled tasks including daily scrapers and price monitors. SES for transactional email. SNS for push notifications. CloudWatch for monitoring and alerting. WAF for web application firewall. Budget of $200-1600 per month is acceptable for enterprise-grade infrastructure.

CURRENT DEVELOPMENT STATE: Sprint 9 completed. ETL pipeline in Python including Scrapers, validation, and business logic is DONE. Backend API in TypeScript including Stripe integration, dropshipping, and search is DONE. Frontend in React including Feed, PDP, and creator profiles is DONE. Database schema with RLS policies is DONE. Supabase Edge Functions are deployed and DONE. Still needs real data integration as currently using mock data, security hardening, state management improvements, and testing infrastructure.

KEY CODE PATTERNS: Infinite feed loading with pagination. View tracking on card display. Affiliate click tracking before external redirect. Gemini Vision API calls via Edge Functions. React Query for data fetching with caching. Zustand for state management. Framer Motion for animations.

ENVIRONMENT VARIABLES REQUIRED: VITE_SUPABASE_URL equals https://your-project.supabase.co. VITE_SUPABASE_ANON_KEY equals your-anon-key. VITE_STRIPE_PUBLIC_KEY equals your-stripe-key. GEMINI_API_KEY is server-side only and must be set via supabase secrets set GEMINI_API_KEY=your-key for the analyze-outfit Edge Function. SUPABASE_SERVICE_KEY equals your-service-key for server only. STRIPE_SECRET_KEY equals sk_your_key for server only. STRIPE_WEBHOOK_SECRET equals whsec_your_secret for server only. JWT_SECRET equals your-jwt-secret for server only. AWS_REGION equals us-east-1.

OTHER ACTIVE VENTURES: FreeAutoCRM is an automotive dealership management system competing with Reynolds & Reynolds, featuring 20 modules including AI Deal Desk, Jessica AI assistant, and comprehensive CRM functionality. RateGarage.com is an auto loan comparison platform leveraging dealership expertise. WaitingTheLongest.com is a dog adoption aggregator platform. InviteGenerator.com is AI-powered invitation creation. BitRewards is a Bitcoin rewards app. Premium domains owned include AIconcentrator.com.

CONFIG SETTINGS: DEMO_MODE equals true to toggle for local versus production. AFFILIATE_TAG equals shoeswiper-20. SHOW_PRICES equals false and should be enabled when Amazon PA-API is connected. ADMIN_EMAIL equals dadsellsgadgets@gmail.com. ALLOWED_EMAILS includes ianmerrill10@gmail.com and ADMIN_EMAIL.

GIT REQUIREMENTS: Current branch is claude/organize-project-review-017XdUugVActQYqDf6tCpkWK. Push command is git push -u origin claude/organize-project-review-017XdUugVActQYqDf6tCpkWK. Push frequency is every 5 prompts which is mandatory.

CONTINUATION INSTRUCTIONS: If starting fresh from this file, clone the repo and checkout the branch with git checkout claude/organize-project-review-017XdUugVActQYqDf6tCpkWK. Install with cd shoeswiper-complete && npm install. Run with npm run dev. Read this entire file before doing any work. Ask the user what to work on next. Follow ALL rules specified in this document. Update the AIContext.md file after every prompt. Never add, delete, or modify features without explicit permission. Push to GitHub every 5 prompts.

FINAL REMINDER: This document contains all rules, requirements, and context for AI agents working on ShoeSwiper. Security is always the highest priority. Never sacrifice security for any reason. Never make unauthorized changes. Always verify your work before delivering responses. Always include the self-verification answer in your response. Always maximize work output per response. Always include a priority list of incomplete features. Always create a context file documenting your work. Follow these rules exactly as specified with no creative deviations.